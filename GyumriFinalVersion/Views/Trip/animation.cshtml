@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preparing Your Travel Guide to Gyumri</title>
    <link rel="stylesheet" href="~/Content/css/effect.css" data-version="1.2" />
<body>
    <div class="container" id="loadingContainer">
        <h1>Preparing Your Travel Guide to Gyumri</h1>
        <p class="subtitle">Hold tight! We're getting your personalized Gyumri trip documents ready<span class="loading-dots"></span></p>
        <p class="description">In just a moment, you'll have access to your itinerary, hotel bookings, must-visit museums, top cafés, local restaurants, and insider tips — all in one place.</p>

        <div class="animation-container">
            <div class="document">
                <div class="document-line line1"></div>
                <div class="document-line line2"></div>
                <div class="document-line line3"></div>
                <div class="document-line line4"></div>
            </div>
            <div class="pen">
                <div class="pen-body">
                    <div class="pen-tip"></div>
                    <div class="pen-cap"></div>
                    <div class="pen-clip"></div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-bar"></div>
        </div>
        <p class="completion-text">Almost ready...</p>
    </div>

    <!-- Store the redirect URL in a hidden field -->
    <input type="hidden" id="redirectUrl" value="@Url.Action("Final", "Trip") " />

    <!-- Optional Skip Button -->
    <a href="@Url.Action("Final", "Trip")" class="skip-button">Skip</a>

    <script>
        // Configuration
        const LOADING_DURATION = 6000; // 6 seconds

        // Get the redirect URL from the hidden field (generated by Razor)
        const REDIRECT_URL = document.getElementById('redirectUrl').value;

        // Auto redirect after loading completes
        setTimeout(() => {
            const container = document.getElementById('loadingContainer');
            container.classList.add('fade-out');

            // Redirect after fade out animation
            setTimeout(() => {
                window.location.href = REDIRECT_URL;
            }, 800);
        }, LOADING_DURATION);
    </script>
</body>
</html>